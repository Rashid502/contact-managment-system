{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Rashid_Work\\\\API Projects\\\\contact-manager-api\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Rashid_Work\\\\API Projects\\\\contact-manager-api\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Rashid_Work\\\\API Projects\\\\contact-manager-api\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useReducer}from\"react\";import axios from\"axios\";import ContactContext from\"./contactContext\";import contactReducer from\"./ContactReducer\";import{GET_CONTACTS,ADD_CONTACT,DELETE_CONTACT,SET_CURRENT,CLEAR_CURRENT,UPDATE_CONTACT,FILTER_CONTACTS,CLEAR_FILTER,CONTACT_ERROR,CLEAR_CONTACTS}from\"../types\";var ContactState=function ContactState(props){var initialState={contacts:null,current:null,filtered:null,loading:true,error:null};var _useReducer=useReducer(contactReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//Get contacts\nvar getContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/contacts\");case 3:res=_context.sent;dispatch({type:GET_CONTACTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context.t0.response.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getContacts(){return _ref.apply(this,arguments);};}();//ADD_CONTACT\nvar addContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{\"Content-Type\":\"application/json\"}};_context2.prev=1;_context2.next=4;return axios.post(\"/api/contacts\",contact,config);case 4:res=_context2.sent;dispatch({type:ADD_CONTACT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context2.t0.response.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addContact(_x){return _ref2.apply(this,arguments);};}();//DELETE_CONTACT\nvar deleteContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:try{axios.delete(\"/api/contacts/\".concat(id));dispatch({type:DELETE_CONTACT,payload:id});}catch(err){dispatch({type:CONTACT_ERROR,payload:err.response.msg});}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteContact(_x2){return _ref3.apply(this,arguments);};}();//Clear Contacts\nvar clearContacts=function clearContacts(){dispatch({type:CLEAR_CONTACTS});};//SET_CURRENT\nvar setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};//CLEAR_CURRENT\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};//UPDATE_CONTACT\nvar updateContact=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contact){var config;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{\"Content-Type\":\"application/json\"}};_context4.prev=1;_context4.next=4;return axios.put(\"/api/contacts/\".concat(contact._id),contact,config);case 4:dispatch({type:UPDATE_CONTACT,payload:contact});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context4.t0.response.msg});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[1,7]]);}));return function updateContact(_x3){return _ref4.apply(this,arguments);};}();//FILTER_CONTACTS\nvar filterContacts=function filterContacts(text){dispatch({type:FILTER_CONTACTS,payload:text});};//CLEAR_FILTER\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};return/*#__PURE__*/React.createElement(ContactContext.Provider,{value:{contacts:state.contacts,current:state.current,filtered:state.filtered,loading:state.loading,error:state.error,addContact:addContact,deleteContact:deleteContact,updateContact:updateContact,setCurrent:setCurrent,clearCurrent:clearCurrent,filterContacts:filterContacts,clearFilter:clearFilter,getContacts:getContacts,clearContacts:clearContacts}},props.children);};export default ContactState;","map":{"version":3,"sources":["D:/Rashid_Work/API Projects/contact-manager-api/client/src/context/contacts/ContactState.js"],"names":["React","useReducer","axios","ContactContext","contactReducer","GET_CONTACTS","ADD_CONTACT","DELETE_CONTACT","SET_CURRENT","CLEAR_CURRENT","UPDATE_CONTACT","FILTER_CONTACTS","CLEAR_FILTER","CONTACT_ERROR","CLEAR_CONTACTS","ContactState","props","initialState","contacts","current","filtered","loading","error","state","dispatch","getContacts","get","res","type","payload","data","response","msg","addContact","contact","config","headers","post","deleteContact","id","delete","err","clearContacts","setCurrent","clearCurrent","updateContact","put","_id","filterContacts","text","clearFilter","children"],"mappings":"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","sourcesContent":["import React, {useReducer} from \"react\";\r\nimport axios from \"axios\";\r\nimport ContactContext from \"./contactContext\";\r\nimport contactReducer from \"./ContactReducer\";\r\n\r\nimport {\r\n  GET_CONTACTS,\r\n  ADD_CONTACT,\r\n  DELETE_CONTACT,\r\n  SET_CURRENT,\r\n  CLEAR_CURRENT,\r\n  UPDATE_CONTACT,\r\n  FILTER_CONTACTS,\r\n  CLEAR_FILTER,\r\n  CONTACT_ERROR,\r\n  CLEAR_CONTACTS,\r\n} from \"../types\";\r\n\r\nconst ContactState = (props) => {\r\n  const initialState = {\r\n    contacts: null,\r\n    current: null,\r\n    filtered: null,\r\n    loading: true,\r\n    error: null,\r\n  };\r\n  const [state, dispatch] = useReducer(contactReducer, initialState);\r\n\r\n  //Get contacts\r\n  const getContacts = async () => {\r\n    try {\r\n      const res = await axios.get(\"/api/contacts\");\r\n      dispatch({\r\n        type: GET_CONTACTS,\r\n        payload: res.data,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: CONTACT_ERROR,\r\n        payload: err.response.msg,\r\n      });\r\n    }\r\n  };\r\n\r\n  //ADD_CONTACT\r\n  const addContact = async (contact) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\"/api/contacts\", contact, config);\r\n      dispatch({\r\n        type: ADD_CONTACT,\r\n        payload: res.data,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: CONTACT_ERROR,\r\n        payload: err.response.msg,\r\n      });\r\n    }\r\n  };\r\n\r\n  //DELETE_CONTACT\r\n\r\n  const deleteContact = async (id) => {\r\n    try {\r\n      axios.delete(`/api/contacts/${id}`);\r\n      dispatch({\r\n        type: DELETE_CONTACT,\r\n        payload: id,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: CONTACT_ERROR,\r\n        payload: err.response.msg,\r\n      });\r\n    }\r\n  };\r\n\r\n  //Clear Contacts\r\n  const clearContacts = () => {\r\n    dispatch({type: CLEAR_CONTACTS});\r\n  };\r\n\r\n  //SET_CURRENT\r\n  const setCurrent = (contact) => {\r\n    dispatch({type: SET_CURRENT, payload: contact});\r\n  };\r\n  //CLEAR_CURRENT\r\n  const clearCurrent = () => {\r\n    dispatch({type: CLEAR_CURRENT});\r\n  };\r\n\r\n  //UPDATE_CONTACT\r\n  const updateContact = async (contact) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      await axios.put(`/api/contacts/${contact._id}`, contact, config);\r\n      dispatch({\r\n        type: UPDATE_CONTACT,\r\n        payload: contact,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: CONTACT_ERROR,\r\n        payload: err.response.msg,\r\n      });\r\n    }\r\n  };\r\n\r\n  //FILTER_CONTACTS\r\n  const filterContacts = (text) => {\r\n    dispatch({type: FILTER_CONTACTS, payload: text});\r\n  };\r\n\r\n  //CLEAR_FILTER\r\n  const clearFilter = () => {\r\n    dispatch({type: CLEAR_FILTER});\r\n  };\r\n\r\n  return (\r\n    <ContactContext.Provider\r\n      value={{\r\n        contacts: state.contacts,\r\n        current: state.current,\r\n        filtered: state.filtered,\r\n        loading: state.loading,\r\n        error: state.error,\r\n        addContact,\r\n        deleteContact,\r\n        updateContact,\r\n        setCurrent,\r\n        clearCurrent,\r\n        filterContacts,\r\n        clearFilter,\r\n        getContacts,\r\n        clearContacts,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </ContactContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ContactState;\r\n"]},"metadata":{},"sourceType":"module"}